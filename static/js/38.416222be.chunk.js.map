{"version":3,"file":"static/js/38.416222be.chunk.js","mappings":"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","sources":["components/AdditionalInfo.jsx","components/getMoviesById.js","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const AdditionalInfo = () => {\n  return (\n    <>\n      <h2>Additional Information</h2>\n      <ul>\n        <li>\n          <NavLink to=\"cast\">cast</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"reviews\">reviews</NavLink>\n        </li>\n      </ul>\n    </>\n  );\n};\n","const API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\n\nexport const getMoviesById = async movieId => {\n  const link = `https://api.themoviedb.org/3/movie/${movieId}`;\n\n  try {\n    const searchParams = new URLSearchParams({\n      api_key: API_KEY,\n    });\n\n    const url = `${link}?${searchParams}`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Fetch failed with status ${response.status}`);\n    }\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__yKjnD\",\"poster\":\"MovieDetails_poster__s+oXh\",\"info\":\"MovieDetails_info__QdAR5\"};","import { AdditionalInfo } from 'components/AdditionalInfo';\nimport { getMoviesById } from 'components/getMoviesById';\nimport React, { lazy, useEffect, useState } from 'react';\nimport { Link, Route, Routes, useLocation, useParams } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('components/Cast'));\nconst Reviews = lazy(() => import('components/Reviews'));\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n\n  const handleGenreList = () => {\n    const genresArray = movies.genres;\n    const genres = genresArray?.map(genre => ' ' + genre.name);\n    return genres;\n  };\n  const handleScore = () => {\n    const score = movies.vote_average;\n    const percentageScore = Number(score * 10);\n    return percentageScore?.toFixed(1);\n  };\n  const handleYear = () => {\n    const date = movies.release_date;\n    const year = date?.substring(0, 4);\n    return year;\n  };\n\n  useEffect(() => {\n    const fetchById = async s => {\n      const moviesById = await getMoviesById(s);\n      setMovies(moviesById);\n    };\n    fetchById(id);\n  }, [id]);\n\n  return (\n    <>\n      <div className={css.container}>\n        <Link to={backLinkHref}>Back</Link>\n        <img\n          className={css.poster}\n          src={\n            movies.poster_path\n              ? `https://image.tmdb.org/t/p/w500${movies.poster_path}`\n              : 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png'\n          }\n          alt={movies.title}\n        />\n        <h1 className={css.title}>\n          {movies.title} ({handleYear()})\n        </h1>\n        <div className={css.info}>\n          <div className={css.score}>\n            <h4>User Score:</h4>\n            <p>{handleScore() + '%'}</p>\n          </div>\n          <div>\n            <h4 className={css.overwiev}>Overwiev</h4>\n            <p>{movies.overview}</p>\n          </div>\n          <div>\n            <h4 className={css.genres}>genres:</h4>\n            <p>{handleGenreList()}</p>\n          </div>\n        </div>\n      </div>\n      <AdditionalInfo />\n      <Routes>\n        <Route path=\"cast\" element={<Cast />} />\n        <Route path=\"reviews\" element={<Reviews />} />\n      </Routes>\n    </>\n  );\n};\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["AdditionalInfo","to","getMoviesById","movieId","link","searchParams","URLSearchParams","api_key","url","fetch","response","ok","Error","status","json","data","console","error","Cast","lazy","Reviews","id","useParams","useState","movies","setMovies","backLinkHref","useLocation","state","from","useEffect","fetchById","s","moviesById","className","css","src","poster_path","alt","title","date","release_date","substring","handleYear","score","vote_average","percentageScore","Number","toFixed","handleScore","overview","genresArray","genres","map","genre","name","handleGenreList","path","element","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}