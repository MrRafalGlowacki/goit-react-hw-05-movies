{"version":3,"file":"static/js/5.2433955c.chunk.js","mappings":"sOAEaA,EAAO,mCAAG,WAAMC,GAAN,sFACfC,EADe,6CAC8BD,EAD9B,qBAIbE,EAAe,IAAIC,gBAAgB,CACvCC,QAPU,qCAUNC,EARa,UAQJJ,EARI,YAQIC,GARJ,SASII,MAAMD,GATV,WASbE,EATa,QAULC,GAVK,sBAWX,IAAIC,MAAJ,mCAAsCF,EAASG,SAXpC,wBAaAH,EAASI,OAbT,eAabC,EAba,yBAeZA,EAAKC,MAfO,kCAiBnBC,QAAQC,MAAR,MAjBmB,0DAAH,sDCDpB,EAA4B,wBAA5B,EAA4D,oB,kBCK/CC,EAAO,WAClB,IAAQC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAAwBE,EAAAA,EAAAA,UAAS,IAAjC,eAAON,EAAP,KAAaO,EAAb,KACA,GAAkCD,EAAAA,EAAAA,WAAS,GAA3C,eAAOE,EAAP,KAAkBC,EAAlB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,WAAMC,GAAN,8EAChBH,GAAa,GADG,SAESvB,EAAQ0B,GAFjB,OAEVC,EAFU,OAGhBN,EAAQM,GACRJ,GAAa,GAJG,2CAAH,sDAMfE,EAAUP,EACX,GAAE,CAACA,IAEJ,IAAMU,EAAO,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAMe,KAAI,SAACC,EAAOC,GAAR,OACxB,4BACE,gBACEC,UAAWC,EACXC,IACEJ,EAAMK,aAAN,yCACsCL,EAAMK,cACxC,yHAENC,IAAKN,EAAMO,QAEb,0BACE,wBAAKP,EAAMO,UAEb,4BACE,wCACA,uBAAIP,EAAMQ,iBAfJR,EAAMS,UAAY,IAAMR,EADV,IAoB1B,OACGT,IAAa,SAACkB,EAAA,EAAD,MAAe,gBAAKR,UAAWC,EAAhB,SAAgCL,GAEhE,C","sources":["components/getCast.js","webpack://react-homework-template/./src/components/Cast.module.css?f72c","components/Cast.jsx"],"sourcesContent":["const API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\n\nexport const getCast = async movieId => {\n  const link = `https://api.themoviedb.org/3/movie/${movieId}/credits`;\n\n  try {\n    const searchParams = new URLSearchParams({\n      api_key: API_KEY,\n    });\n\n    const url = `${link}?${searchParams}`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Fetch failed with status ${response.status}`);\n    }\n    const data = await response.json();\n\n    return data.cast;\n  } catch (error) {\n    console.error(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Cast_container__NnGtu\",\"actor\":\"Cast_actor__Kb4Fd\"};","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getCast } from './getCast';\nimport css from './Cast.module.css';\nimport { Loader } from './Loader/Loader';\n\nexport const Cast = () => {\n  const { id } = useParams();\n  const [cast, setCast] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchById = async s => {\n      setIsLoading(true);\n      const moviesById = await getCast(s);\n      setCast(moviesById);\n      setIsLoading(false);\n    };\n    fetchById(id);\n  }, [id]);\n\n  const credits = cast?.map((actor, index) => (\n    <div key={actor.credit_id + '-' + index}>\n      <img\n        className={css.actor}\n        src={\n          actor.profile_path\n            ? `https://image.tmdb.org/t/p/w500${actor.profile_path}`\n            : 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png'\n        }\n        alt={actor.name}\n      />\n      <div>\n        <h4>{actor.name}</h4>\n      </div>\n      <div>\n        <h4>Character:</h4>\n        <p>{actor.character}</p>\n      </div>\n    </div>\n  ));\n  return (\n    (isLoading && <Loader />) || <div className={css.container}>{credits}</div>\n  );\n};\n"],"names":["getCast","movieId","link","searchParams","URLSearchParams","api_key","url","fetch","response","ok","Error","status","json","data","cast","console","error","Cast","id","useParams","useState","setCast","isLoading","setIsLoading","useEffect","fetchById","s","moviesById","credits","map","actor","index","className","css","src","profile_path","alt","name","character","credit_id","Loader"],"sourceRoot":""}